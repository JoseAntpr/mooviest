{% extends 'base.html' %}
{% block title %}Mooviest{% endblock %}
{% load staticfiles %}
{% block content %}

    <div class="container">
      <div class="content">

        <p>{{ recommendations.movie.runtime }}</p>

        <h3 class="text-center">Empieza ya a disfrutar de nuestras recomendaciones y clasifícalas...</h3>

        <!-- Movie recommendations -->
        <div class="row">
          <div class="col-md-offset-4 col-md-4 col-sm-offset-3 col-sm-6">
            <div class="stack">
              <div class="poster-bottom">
                <a href="#" class="btn" data-action="open" data-side="right">
                  <img id="poster" class="img-responsive" src="http://screencrush.com/files/2015/03/avengers-2-poster.jpg">
                </a>
              </div>
              <div class="poster-top">
                <a href="#" class="btn" data-action="open" data-side="right">
                  <img id="poster" class="img-responsive" src="http://a.dilcdn.com/bl/wp-content/uploads/sites/6/2015/10/star-wars-force-awakens-official-poster.jpg">
                </a>
              </div>
            </div>
            </div>
          </div>

          <!-- Buttons -->
          <div class="row">
            <div class="col-md-offset-4 col-md-4">
              <div class="col-md-3">
                <button type="button" title="Pendiente" class="btn btn-lg btn-default btn-round watchlist"><i class="fa fa-plus" style="color: orange"></i></button>
              </div>
              <div class="col-md-3">
                <button type="button" title="No vista" class="btn btn-lg btn-default btn-round not-seen"><i class="fa fa-times" style="color: red"></i></button>
              </div>
              <div class="col-md-3">
                <button type="button" title="Vista" class="btn btn-lg btn-default btn-round seen"><i class="fa fa-check" style="color: green"></i></button>
              </div>
              <div class="col-md-3">
                <button type="button" title="Favorita" class="btn btn-lg btn-default btn-round favourite"><i class="fa fa-heart" style="color: deeppink"></i></button>
              </div>
            </div>
          </div>

          <!-- Releases -->
          <div id="releases">
            <div class="row">
              <h2>Estrenos <i class="fa fa-ticket"></i></h2>
              <div class="hline"></div>
              <br>
              <br>
              <br>
              <div class="col-lg-3 col-md-3">
                <img class="img-responsive" src="https://img.tviso.com/ES/poster/w200/69/57/6957dfd9e7aa62bcc0d05c2f01550b3d.jpg" alt="" />
              </div>
              <div class="col-lg-3 col-md-3">
                <img src="https://img.tviso.com/ES/poster/w200/3b/0b/3b0b4f3794a4d0b35f2fa9769208e2d6.jpg" alt="" />
              </div>
              <div class="col-lg-3 col-md-3">
                <img class="img-responsive" src="https://img.tviso.com/ES/poster/w200/dc/de/dcdecf7123f00b1fb69e8dbab59e1fbf.jpg" alt="" />
              </div>
              <div class="col-lg-3 col-md-3">
                <img class="img-responsive" src="https://img.tviso.com/ES/poster/w200/7b/2b/7b2b0b8c96dd22a4582de651aff8f575.jpg" alt="" />
              </div>
            </div>
          </div>

          <br>
          <br>
          <br>

          <!-- Most popular -->
          <div id="popular">
            <div class="row">
              <h2>Más populares <i class="fa fa-star"></i></h2>
              <div class="hline"></div>
              <br>
              <br>
              <br>
              <div class="col-lg-3 col-md-3">
                <img class="img-responsive" src="https://img.tviso.com/ES/poster/w200/42/a1/42a199505307d8c446730e266b75e44f.jpg" alt="" />
              </div>
              <div class="col-lg-3 col-md-3">
                <img class="img-responsive" src="https://img.tviso.com/ES/poster/w200/42/eb/42eb93fb3afd50f61070436a67b4ad08.jpg" alt="" />
              </div>
              <div class="col-lg-3 col-md-3">
                <img class="img-responsive" src="https://img.tviso.com/ES/poster/w200/60/02/6002ab8e799067f92451999897117025.jpg" alt="" />
              </div>
              <div class="col-lg-3 col-md-3">
                <img class="img-responsive" src="https://img.tviso.com/ES/poster/w200/3f/06/3f06e360a5875ce8ebcc2ada17b364b9.jpg" alt="" />
              </div>
            </div>
          </div>
        </div>
      </div>

    </div>
    <div class="sidebars">
      <div class="sidebar left" style="left: -400px;">Left</div>
      <div class="sidebar right" style="right: -400px;">
        <a class="btn" data-action="close" data-side="right"><span class="glyphicon glyphicon-remove"></span></a>
      </div>
      <div class="sidebar top" style="top: -400px;">Top</div>
      <div class="sidebar bottom" style="bottom: -400px;">Bottom</div>
    </div>

{% endblock content %}

{% block javascript%}

  <!-- Side bar -->
  <script>
    $(document).ready(function() {
       // All sides
       var sides = ["left", "top", "right", "bottom"];
       $("h1 span.version").text($.fn.sidebar.version);

       // Initialize sidebars
       for (var i = 0; i < sides.length; ++i) {
           var cSide = sides[i];
           $(".sidebar." + cSide).sidebar({side: cSide});
       }

       // Click handlers
       $(".btn[data-action]").on("click", function () {
           var $this = $(this);
           var action = $this.attr("data-action");
           var side = $this.attr("data-side");
           $(".sidebar." + side).trigger("sidebar:" + action);
           if (action == "open") {
             $(".content").css("width", "70%");
             $("footer").css("width", "70%");
           } else if (action == "close") {
             $(".content").css("width", "100%");
             $("footer").css("width", "100%");
           }
           return false;
       });
    });
  </script>

  <!-- Swipe effect -->
  <script>
    $(function() {
      $('button.seen').on('click', function() {
        swipe('animated fadeOutRightBig');
        swapBottomMovie();
      });

      $('button.watchlist').on('click', function() {
        swipe('animated fadeOutLeftBig');
        swapBottomMovie();
      });

      $('button.favourite').on('click', function() {
        swipe('animated fadeOutUpBig');
        swapBottomMovie();
      });

      $('button.not-seen').on('click', function() {
        swipe('animated fadeOutDownBig');
        swapBottomMovie();
      });
    });

    function swipe(classes) {
      $('.poster-top').addClass(classes);
      $('.poster-top').one('webkitAnimationEnd mozAnimationEnd MSAnimationEnd oanimationend animationend', function() {
        $('.poster-top').removeClass(classes);
        $('.poster-bottom').removeClass('poster-bottom').addClass('poster-aux');
        $('.poster-top').removeClass('poster-top').addClass('poster-bottom');
        $('.poster-aux').removeClass('poster-aux').addClass('poster-top');
      });
    }

    function swapBottomMovie() {
      //$('.poster-bottom #poster').attr('src', 'https://ca.movieposter.com/posters/archive/main/108/MPW-54063');
    }

  </script>

  {% endblock javascript %}
